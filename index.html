<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tienda</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }header {
  background-color: #333;
  color: white;
  padding: 10px 20px;
  text-align: center;
}

nav a {
  color: white;
  margin: 0 15px;
  text-decoration: none;
}

.producto {
  border: 1px solid #ccc;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.producto h2 {
  margin-top: 0;
}

button {
  padding: 10px 15px;
  background-color: #28a745;
  border: none;
  color: white;
  border-radius: 5px;
  cursor: pointer;
}

#carrito-icono {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #28a745;
  color: white;
  padding: 12px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  z-index: 999;
}

#carrito-icono span {
  position: absolute;
  top: -5px;
  right: -5px;
  background: red;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 50%;
}

#carrito-dropdown {
  position: fixed;
  top: 70px;
  right: 20px;
  background: white;
  box-shadow: 0 2px 12px rgba(0,0,0,0.2);
  padding: 15px;
  width: 250px;
  border-radius: 8px;
  display: none;
  z-index: 999;
}

#carrito-dropdown h4 {
  margin-top: 0;
}

.toast {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background-color: #333;
  color: white;
  padding: 14px 20px;
  border-radius: 8px;
  opacity: 0;
  transition: opacity 0.4s ease-in-out;
  z-index: 999;
}

.toast.show {
  opacity: 1;
}

  </style>
</head>
<body>  <header>
    <h1>Bienvenido a la Tienda</h1>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="carrito.html">Carrito</a>
    </nav>
  </header>  <!-- Ícono del carrito -->  <div id="carrito-icono">
    <i class="fas fa-shopping-cart"></i>
    <span id="cantidad-carrito">0</span>
  </div>  <!-- Dropdown de resumen -->  <div id="carrito-dropdown">
    <h4>Carrito</h4>
    <ul id="resumen-carrito"></ul>
    <a href="carrito.html">Ir al carrito</a>
  </div>  <!-- Toast de agregado -->  <div id="toast" class="toast">Producto agregado al carrito</div>  <!-- Lista de productos -->  <h2>Productos</h2>  <div class="producto">
    <h2>Producto 1</h2>
    <p>Descripción del producto 1.</p>
    <button onclick="agregarAlCarrito({ nombre: 'Producto 1' })">Agregar al carrito</button>
  </div>  <div class="producto">
    <h2>Producto 2</h2>
    <p>Descripción del producto 2.</p>
    <button onclick="agregarAlCarrito({ nombre: 'Producto 2' })">Agregar al carrito</button>
  </div>  <div class="producto">
    <h2>Producto 3</h2>
    <p>Descripción del producto 3.</p>
    <button onclick="agregarAlCarrito({ nombre: 'Producto 3' })">Agregar al carrito</button>
  </div>  <script>
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    function actualizarIconoCarrito() {
      const cantidad = carrito.reduce((acc, p) => acc + p.cantidad, 0);
      document.getElementById('cantidad-carrito').textContent = cantidad;
    }

    function mostrarToast(mensaje) {
      const toast = document.getElementById('toast');
      toast.textContent = mensaje;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 2500);
    }

    function agregarAlCarrito(producto) {
      const existente = carrito.find(p => p.nombre === producto.nombre);
      if (existente) {
        existente.cantidad += 1;
      } else {
        carrito.push({ nombre: producto.nombre, cantidad: 1 });
      }
      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarIconoCarrito();
      mostrarToast('Producto agregado al carrito');
      actualizarResumenCarrito();
    }

    function actualizarResumenCarrito() {
      const ul = document.getElementById('resumen-carrito');
      ul.innerHTML = '';
      if (carrito.length === 0) {
        ul.innerHTML = '<li>Carrito vacío</li>';
      } else {
        carrito.forEach(p => {
          const li = document.createElement('li');
          li.textContent = `${p.nombre} x${p.cantidad}`;
          ul.appendChild(li);
        });
      }
    }

    const icono = document.getElementById('carrito-icono');
    const dropdown = document.getElementById('carrito-dropdown');

    icono.addEventListener('click', () => {
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    });

    actualizarIconoCarrito();
    actualizarResumenCarrito();
  </script></body>
</html>