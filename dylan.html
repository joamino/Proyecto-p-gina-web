<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Perfume Dylan</title>
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://i.imgur.com https://cdn-icons-png.flaticon.com; script-src 'self'; style-src 'self' 'unsafe-inline';">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
    }
    header {
      background-color: #333;
      color: white;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    header img {
      height: 80px;
    }
    .menu-btn {
      position: absolute;
      left: 20px;
      top: 25px;
      font-size: 28px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }
    .sidebar {
      height: 100%;
      width: 0;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #000;
      overflow-x: hidden;
      transition: 0.3s;
      padding-top: 60px;
      max-width: 320px;
      z-index: 1000;
    }
    .sidebar a {
      padding: 15px 25px;
      text-decoration: none;
      color: white;
      display: block;
      font-size: 18px;
      transition: 0.2s;
    }
    .sidebar a:hover {
      background-color: #222;
    }
    .sidebar .submenu {
      margin-left: 20px;
    }
    .closebtn {
      position: absolute;
      top: 20px;
      right: 25px;
      font-size: 30px;
      color: white;
      background: none;
      border: none;
      cursor: pointer;
    }
    .instagram-icon {
      width: 32px;
      margin: 40px 25px 0;
      filter: brightness(0) invert(1);
    }
    .producto-detalle {
      max-width: 600px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }
    .producto-detalle img {
      width: 100%;
      height: auto;
      max-height: 400px;
      object-fit: cover;
      border-radius: 10px;
      cursor: pointer;
    }
    .producto-detalle h2 {
      margin: 20px 0 10px;
    }
    .producto-detalle p {
      font-size: 16px;
      color: #333;
      margin: 10px 0;
    }

    /* Botón agregar al carrito */
    #agregarAlCarrito {
      margin-top: 20px;
      padding: 10px 25px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    #agregarAlCarrito:hover {
      background: #555;
    }

    .volver-btn {
      display: inline-block;
      margin-top: 30px;
      padding: 10px 20px;
      background-color: #333;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.2s;
    }
    .volver-btn:hover {
      background-color: #555;
    }
    #lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 10px;
      box-shadow: 0 0 10px #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div id="sidebar" class="sidebar">
    <button class="closebtn" onclick="closeSidebar()">×</button>
    <a href="#">Preguntas frecuentes</a>
    <a href="#">Productos</a>
    <div class="submenu">
      <a href="#">• Perfumes</a>
      <a href="#">• Masculinos</a>
      <a href="#">• Femeninos</a>
      <a href="#">• Unisex</a>
    </div>
    <a href="#">Contacto</a>
    <a href="https://instagram.com" target="_blank">
      <img class="instagram-icon" src="https://cdn-icons-png.flaticon.com/512/87/87390.png" alt="Instagram">
    </a>
  </div>

  <header>
    <button class="menu-btn" onclick="openSidebar()">☰</button>
    <img src="https://i.imgur.com/ss7a9jP.png" alt="Logo">
<a href="carrito.html" id="carrito-link" style="position:absolute; right:30px; top:30px; text-decoration:none; color:white;">
  <img src="https://cdn-icons-png.flaticon.com/512/107/107831.png" alt="Carrito" style="width:32px;vertical-align:middle;">
  <span id="carrito-cantidad" style="background:red;color:white;border-radius:50%;padding:2px 7px;font-size:0.9em;vertical-align:top;margin-left:-10px;">0</span>
</a>
  </header>

  <div class="producto-detalle">
    <img src="https://i.imgur.com/HjDx5RW.jpeg" alt="Perfume Dylan">
    <h2>Perfume Dylan</h2>
    <p><strong>Precio:</strong> $8700</p>
    <p><strong>Descripción:</strong> Fragancia sofisticada y elegante, con notas amaderadas. Ideal para quienes buscan destacar con personalidad propia.</p>
    <button id="agregarAlCarrito">Agregar al carrito</button>
    <a class="volver-btn" href="index.html">← Volver al catálogo</a>
  </div>

  <div id="lightbox">
    <img id="lightbox-img" src="" alt="Imagen ampliada">
  </div>

  <script>
    function openSidebar() {
      document.getElementById("sidebar").style.width = "80%";
    }
    function closeSidebar() {
      document.getElementById("sidebar").style.width = "0";
    }
    const detalleImg = document.querySelector('.producto-detalle img');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');

    detalleImg.addEventListener('click', () => {
      lightboxImg.src = detalleImg.src;
      lightbox.style.display = 'flex';
    });

    lightbox.addEventListener('click', () => {
      lightbox.style.display = 'none';
    });

    // Agregar al carrito
    document.getElementById('agregarAlCarrito').addEventListener('click', function() {
      const producto = {
        id: "3",
        nombre: "Perfume Dylan",
        precio: 8700,
        cantidad: 1
      };
      let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
      const existente = carrito.find(item => item.id === producto.id);
      if (existente) {
        existente.cantidad = (existente.cantidad || 1) + 1;
      } else {
        carrito.push(producto);
      }
      localStorage.setItem('carrito', JSON.stringify(carrito));
      alert('Producto agregado al carrito');
    });
  </script>

</body>
</html>